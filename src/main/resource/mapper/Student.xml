<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ww.school.mapper.IStudentMapper">
    <!--插入一个学生-->
    <insert id="insertStudent">
        <selectKey keyProperty="id" resultType="String" order="BEFORE">
            select replace(uuid(),'-','') from dual
        </selectKey>
        insert into Student(id,sno,sname,className,major) values(#{id},#{sno},#{sname},#{className},#{major})
    </insert>
    <select id="getStudents" resultType="Student">
        select * from Student
    </select>
    <select id="getStudentByNo" parameterType="String" resultType="Student">
        select * from Student where sno = #{sno}
    </select>

    <select id="getStudentByLike" parameterType="String" resultType="Student">
        <bind name="no" value="'%'+sno+'%'"/>
        select * from Student where sno like #{no}
    </select>

    <select id="getStudentByIn" parameterType="list" resultType="Student">
        select * from Student where sno in
        <foreach collection="list" item="stus" open="(" separator="," close=")">
            #{stus}
        </foreach>
    </select>
    <!--使用map类型的resultMap-->
    <select id="getStudentByMap" parameterType="Map" resultType="Student">
        select * from Student where sno=#{sno} and sname=#{sname}
    </select>
    <!--简单分页-->
    <select id="getStudentPage" parameterType="Map" resultType="Student">
        select * from Student limit #{pageStart},#{pageSize}
    </select>
    <update id="updateStudent" parameterType="Student">
        update Student set sname = #{sname} where sno = #{sno}

    </update>
    <delete id="deleteStudent" parameterType="String">
        delete Student where sno=#{sno}
    </delete>
</mapper>